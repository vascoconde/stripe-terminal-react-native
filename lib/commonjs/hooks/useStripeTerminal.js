var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.UPDATE_DISCOVERED_READERS=exports.START_INSTALLING_UPDATE=exports.REQUEST_READER_INPUT=exports.REQUEST_READER_DISPLAY_MESSAGE=exports.REPORT_UPDATE_PROGRESS=exports.REPORT_UNEXPECTED_READER_DISCONNECT=exports.REPORT_AVAILABLE_UPDATE=exports.FINISH_INSTALLING_UPDATE=exports.FINISH_DISCOVERING_READERS=exports.FETCH_TOKEN_PROVIDER=exports.CHANGE_PAYMENT_STATUS=exports.CHANGE_CONNECTION_STATUS=void 0;exports.useStripeTerminal=useStripeTerminal;var _regenerator=_interopRequireDefault(require("@babel/runtime/regenerator"));var _react=require("react");var _functions=require("../functions");var _StripeTerminalContext=require("../components/StripeTerminalContext");var _useListener=require("./useListener");var _reactNative=require("react-native");var _NativeModules$Stripe=_reactNative.NativeModules.StripeTerminalReactNative.getConstants(),FETCH_TOKEN_PROVIDER=_NativeModules$Stripe.FETCH_TOKEN_PROVIDER,CHANGE_CONNECTION_STATUS=_NativeModules$Stripe.CHANGE_CONNECTION_STATUS,CHANGE_PAYMENT_STATUS=_NativeModules$Stripe.CHANGE_PAYMENT_STATUS,FINISH_DISCOVERING_READERS=_NativeModules$Stripe.FINISH_DISCOVERING_READERS,FINISH_INSTALLING_UPDATE=_NativeModules$Stripe.FINISH_INSTALLING_UPDATE,REQUEST_READER_DISPLAY_MESSAGE=_NativeModules$Stripe.REQUEST_READER_DISPLAY_MESSAGE,REQUEST_READER_INPUT=_NativeModules$Stripe.REQUEST_READER_INPUT,REPORT_AVAILABLE_UPDATE=_NativeModules$Stripe.REPORT_AVAILABLE_UPDATE,REPORT_UNEXPECTED_READER_DISCONNECT=_NativeModules$Stripe.REPORT_UNEXPECTED_READER_DISCONNECT,REPORT_UPDATE_PROGRESS=_NativeModules$Stripe.REPORT_UPDATE_PROGRESS,START_INSTALLING_UPDATE=_NativeModules$Stripe.START_INSTALLING_UPDATE,UPDATE_DISCOVERED_READERS=_NativeModules$Stripe.UPDATE_DISCOVERED_READERS;exports.UPDATE_DISCOVERED_READERS=UPDATE_DISCOVERED_READERS;exports.START_INSTALLING_UPDATE=START_INSTALLING_UPDATE;exports.REPORT_UPDATE_PROGRESS=REPORT_UPDATE_PROGRESS;exports.REPORT_UNEXPECTED_READER_DISCONNECT=REPORT_UNEXPECTED_READER_DISCONNECT;exports.REPORT_AVAILABLE_UPDATE=REPORT_AVAILABLE_UPDATE;exports.REQUEST_READER_INPUT=REQUEST_READER_INPUT;exports.REQUEST_READER_DISPLAY_MESSAGE=REQUEST_READER_DISPLAY_MESSAGE;exports.FINISH_INSTALLING_UPDATE=FINISH_INSTALLING_UPDATE;exports.FINISH_DISCOVERING_READERS=FINISH_DISCOVERING_READERS;exports.CHANGE_PAYMENT_STATUS=CHANGE_PAYMENT_STATUS;exports.CHANGE_CONNECTION_STATUS=CHANGE_CONNECTION_STATUS;exports.FETCH_TOKEN_PROVIDER=FETCH_TOKEN_PROVIDER;var NOT_INITIALIZED_ERROR_MESSAGE='First initialize the Stripe Terminal SDK before performing any action';function useStripeTerminal(props){var _useContext=(0,_react.useContext)(_StripeTerminalContext.StripeTerminalContext),setLoading=_useContext.setLoading,isInitialized=_useContext.isInitialized,initialize=_useContext.initialize,setConnectedReader=_useContext.setConnectedReader,setDiscoveredReaders=_useContext.setDiscoveredReaders,connectedReader=_useContext.connectedReader,discoveredReaders=_useContext.discoveredReaders,loading=_useContext.loading,emitter=_useContext.emitter,log=_useContext.log;var _isInitialized=(0,_react.useCallback)(function(){return isInitialized;},[isInitialized]);var _ref=props||{},onUpdateDiscoveredReaders=_ref.onUpdateDiscoveredReaders,onFinishDiscoveringReaders=_ref.onFinishDiscoveringReaders,onDidFinishInstallingUpdate=_ref.onDidFinishInstallingUpdate,onDidReportAvailableUpdate=_ref.onDidReportAvailableUpdate,onDidReportReaderSoftwareUpdateProgress=_ref.onDidReportReaderSoftwareUpdateProgress,onDidReportUnexpectedReaderDisconnect=_ref.onDidReportUnexpectedReaderDisconnect,onDidStartInstallingUpdate=_ref.onDidStartInstallingUpdate,onDidRequestReaderInput=_ref.onDidRequestReaderInput,onDidRequestReaderDisplayMessage=_ref.onDidRequestReaderDisplayMessage,onDidChangePaymentStatus=_ref.onDidChangePaymentStatus,onDidChangeConnectionStatus=_ref.onDidChangeConnectionStatus;var _discoverReaders=(0,_react.useCallback)(function _callee(params){var response;return _regenerator.default.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(_isInitialized()){_context.next=3;break;}console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);case 3:setLoading(true);_context.next=6;return _regenerator.default.awrap((0,_functions.discoverReaders)(params));case 6:response=_context.sent;setLoading(false);return _context.abrupt("return",response);case 9:case"end":return _context.stop();}}},null,null,null,Promise);},[_isInitialized,setLoading]);(0,_useListener.useListener)(FETCH_TOKEN_PROVIDER,function(){return null;});var didUpdateDiscoveredReaders=(0,_react.useCallback)(function(_ref2){var readers=_ref2.readers;setDiscoveredReaders(readers);onUpdateDiscoveredReaders==null?void 0:onUpdateDiscoveredReaders(readers);},[setDiscoveredReaders,onUpdateDiscoveredReaders]);var didFinishDiscoveringReaders=(0,_react.useCallback)(function(_ref3){var result=_ref3.result;onFinishDiscoveringReaders==null?void 0:onFinishDiscoveringReaders(result.error);},[onFinishDiscoveringReaders]);var didReportUnexpectedReaderDisconnect=(0,_react.useCallback)(function(_ref4){var error=_ref4.error;setConnectedReader(null);setDiscoveredReaders([]);onDidReportUnexpectedReaderDisconnect==null?void 0:onDidReportUnexpectedReaderDisconnect(error);},[onDidReportUnexpectedReaderDisconnect,setConnectedReader,setDiscoveredReaders]);var didReportAvailableUpdate=(0,_react.useCallback)(function(_ref5){var result=_ref5.result;onDidReportAvailableUpdate==null?void 0:onDidReportAvailableUpdate(result);},[onDidReportAvailableUpdate]);var didStartInstallingUpdate=(0,_react.useCallback)(function(_ref6){var result=_ref6.result;onDidStartInstallingUpdate==null?void 0:onDidStartInstallingUpdate(result);},[onDidStartInstallingUpdate]);var didReportReaderSoftwareUpdateProgress=(0,_react.useCallback)(function(_ref7){var result=_ref7.result;onDidReportReaderSoftwareUpdateProgress==null?void 0:onDidReportReaderSoftwareUpdateProgress(result.progress);},[onDidReportReaderSoftwareUpdateProgress]);var didFinishInstallingUpdate=(0,_react.useCallback)(function(_ref8){var result=_ref8.result;if(result.error){var _ref9=result,error=_ref9.error;onDidFinishInstallingUpdate==null?void 0:onDidFinishInstallingUpdate({update:undefined,error:error});}else{onDidFinishInstallingUpdate==null?void 0:onDidFinishInstallingUpdate({update:result,error:undefined});}},[onDidFinishInstallingUpdate]);var didRequestReaderInput=(0,_react.useCallback)(function(_ref10){var result=_ref10.result;onDidRequestReaderInput==null?void 0:onDidRequestReaderInput(result);},[onDidRequestReaderInput]);var didRequestReaderDisplayMessage=(0,_react.useCallback)(function(_ref11){var result=_ref11.result;onDidRequestReaderDisplayMessage==null?void 0:onDidRequestReaderDisplayMessage(result);},[onDidRequestReaderDisplayMessage]);var didChangePaymentStatus=(0,_react.useCallback)(function(_ref12){var result=_ref12.result;onDidChangePaymentStatus==null?void 0:onDidChangePaymentStatus(result);},[onDidChangePaymentStatus]);var didChangeConnectionStatus=(0,_react.useCallback)(function(_ref13){var result=_ref13.result;onDidChangeConnectionStatus==null?void 0:onDidChangeConnectionStatus(result);},[onDidChangeConnectionStatus]);(0,_useListener.useListener)(REPORT_AVAILABLE_UPDATE,didReportAvailableUpdate);(0,_useListener.useListener)(START_INSTALLING_UPDATE,didStartInstallingUpdate);(0,_useListener.useListener)(REPORT_UPDATE_PROGRESS,didReportReaderSoftwareUpdateProgress);(0,_useListener.useListener)(FINISH_INSTALLING_UPDATE,didFinishInstallingUpdate);(0,_useListener.useListener)(UPDATE_DISCOVERED_READERS,didUpdateDiscoveredReaders);(0,_useListener.useListener)(FINISH_DISCOVERING_READERS,didFinishDiscoveringReaders);(0,_useListener.useListener)(REPORT_UNEXPECTED_READER_DISCONNECT,didReportUnexpectedReaderDisconnect);(0,_useListener.useListener)(REQUEST_READER_INPUT,didRequestReaderInput);(0,_useListener.useListener)(REQUEST_READER_DISPLAY_MESSAGE,didRequestReaderDisplayMessage);(0,_useListener.useListener)(CHANGE_PAYMENT_STATUS,didChangePaymentStatus);(0,_useListener.useListener)(CHANGE_CONNECTION_STATUS,didChangeConnectionStatus);var _initialize=(0,_react.useCallback)(function _callee2(){var errorMessage;return _regenerator.default.async(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!(!initialize||typeof initialize!=='function')){_context2.next=4;break;}errorMessage='StripeTerminalProvider component is not found, has not been mounted properly or SDK has not been initialized properly';log('Failed',errorMessage);return _context2.abrupt("return",{error:{code:'Failed',message:errorMessage},reader:undefined});case 4:_context2.next=6;return _regenerator.default.awrap(initialize());case 6:return _context2.abrupt("return",_context2.sent);case 7:case"end":return _context2.stop();}}},null,null,null,Promise);},[initialize,log]);var _cancelDiscovering=(0,_react.useCallback)(function _callee3(){var response;return _regenerator.default.async(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:if(_isInitialized()){_context3.next=3;break;}console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);case 3:setLoading(true);_context3.next=6;return _regenerator.default.awrap((0,_functions.cancelDiscovering)());case 6:response=_context3.sent;setDiscoveredReaders([]);setLoading(false);return _context3.abrupt("return",response);case 10:case"end":return _context3.stop();}}},null,null,null,Promise);},[setLoading,setDiscoveredReaders,_isInitialized]);var _connectBluetoothReader=(0,_react.useCallback)(function _callee4(params){var response;return _regenerator.default.async(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(_isInitialized()){_context4.next=3;break;}console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);case 3:setLoading(true);_context4.next=6;return _regenerator.default.awrap((0,_functions.connectBluetoothReader)(params));case 6:response=_context4.sent;if(response.reader&&!response.error){setConnectedReader(response.reader);}setLoading(false);return _context4.abrupt("return",response);case 10:case"end":return _context4.stop();}}},null,null,null,Promise);},[setConnectedReader,setLoading,_isInitialized]);var _connectInternetReader=(0,_react.useCallback)(function _callee5(params){var response;return _regenerator.default.async(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:if(_isInitialized()){_context5.next=3;break;}console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);case 3:setLoading(true);_context5.next=6;return _regenerator.default.awrap((0,_functions.connectInternetReader)(params));case 6:response=_context5.sent;if(response.reader){setConnectedReader(response.reader);}setLoading(false);return _context5.abrupt("return",response);case 10:case"end":return _context5.stop();}}},null,null,null,Promise);},[setConnectedReader,setLoading,_isInitialized]);var _connectUsbReader=(0,_react.useCallback)(function _callee6(params){var response;return _regenerator.default.async(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:if(_isInitialized()){_context6.next=3;break;}console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);case 3:setLoading(true);_context6.next=6;return _regenerator.default.awrap((0,_functions.connectUsbReader)(params));case 6:response=_context6.sent;if(response.reader&&!response.error){setConnectedReader(response.reader);}setLoading(false);return _context6.abrupt("return",response);case 10:case"end":return _context6.stop();}}},null,null,null,Promise);},[_isInitialized,setConnectedReader,setLoading]);var _connectLocalMobileReader=(0,_react.useCallback)(function _callee7(params){var response;return _regenerator.default.async(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:if(_isInitialized()){_context7.next=3;break;}console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);case 3:setLoading(true);_context7.next=6;return _regenerator.default.awrap((0,_functions.connectLocalMobileReader)(params));case 6:response=_context7.sent;if(response.reader){setConnectedReader(response.reader);}setLoading(false);return _context7.abrupt("return",response);case 10:case"end":return _context7.stop();}}},null,null,null,Promise);},[_isInitialized,setConnectedReader,setLoading]);var _connectHandoffReader=(0,_react.useCallback)(function _callee8(params){var response;return _regenerator.default.async(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:if(_isInitialized()){_context8.next=3;break;}console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);case 3:setLoading(true);_context8.next=6;return _regenerator.default.awrap((0,_functions.connectHandoffReader)(params));case 6:response=_context8.sent;if(response.reader){setConnectedReader(response.reader);}setLoading(false);return _context8.abrupt("return",response);case 10:case"end":return _context8.stop();}}},null,null,null,Promise);},[_isInitialized,setConnectedReader,setLoading]);var _disconnectReader=(0,_react.useCallback)(function _callee9(){var response;return _regenerator.default.async(function _callee9$(_context9){while(1){switch(_context9.prev=_context9.next){case 0:if(_isInitialized()){_context9.next=3;break;}console.error(NOT_INITIALIZED_ERROR_MESSAGE);return _context9.abrupt("return");case 3:setLoading(true);_context9.next=6;return _regenerator.default.awrap((0,_functions.disconnectReader)());case 6:response=_context9.sent;if(!response.error){setConnectedReader(null);setDiscoveredReaders([]);}setLoading(false);return _context9.abrupt("return",response);case 10:case"end":return _context9.stop();}}},null,null,null,Promise);},[setLoading,setConnectedReader,setDiscoveredReaders,_isInitialized]);var _createPaymentIntent=(0,_react.useCallback)(function _callee10(params){var response;return _regenerator.default.async(function _callee10$(_context10){while(1){switch(_context10.prev=_context10.next){case 0:if(_isInitialized()){_context10.next=3;break;}console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);case 3:setLoading(true);_context10.next=6;return _regenerator.default.awrap((0,_functions.createPaymentIntent)(params));case 6:response=_context10.sent;setLoading(false);return _context10.abrupt("return",response);case 9:case"end":return _context10.stop();}}},null,null,null,Promise);},[setLoading,_isInitialized]);var _collectPaymentMethod=(0,_react.useCallback)(function _callee11(params){var response;return _regenerator.default.async(function _callee11$(_context11){while(1){switch(_context11.prev=_context11.next){case 0:if(_isInitialized()){_context11.next=3;break;}console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);case 3:setLoading(true);_context11.next=6;return _regenerator.default.awrap((0,_functions.collectPaymentMethod)(params));case 6:response=_context11.sent;setLoading(false);return _context11.abrupt("return",response);case 9:case"end":return _context11.stop();}}},null,null,null,Promise);},[setLoading,_isInitialized]);var _retrievePaymentIntent=(0,_react.useCallback)(function _callee12(clientSecret){var response;return _regenerator.default.async(function _callee12$(_context12){while(1){switch(_context12.prev=_context12.next){case 0:if(_isInitialized()){_context12.next=3;break;}console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);case 3:setLoading(true);_context12.next=6;return _regenerator.default.awrap((0,_functions.retrievePaymentIntent)(clientSecret));case 6:response=_context12.sent;setLoading(false);return _context12.abrupt("return",response);case 9:case"end":return _context12.stop();}}},null,null,null,Promise);},[setLoading,_isInitialized]);var _getLocations=(0,_react.useCallback)(function _callee13(params){var response;return _regenerator.default.async(function _callee13$(_context13){while(1){switch(_context13.prev=_context13.next){case 0:if(_isInitialized()){_context13.next=3;break;}console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);case 3:setLoading(true);_context13.next=6;return _regenerator.default.awrap((0,_functions.getLocations)(params));case 6:response=_context13.sent;setLoading(false);return _context13.abrupt("return",response);case 9:case"end":return _context13.stop();}}},null,null,null,Promise);},[setLoading,_isInitialized]);var _processPayment=(0,_react.useCallback)(function _callee14(paymentIntentId){var response;return _regenerator.default.async(function _callee14$(_context14){while(1){switch(_context14.prev=_context14.next){case 0:if(_isInitialized()){_context14.next=3;break;}console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);case 3:setLoading(true);_context14.next=6;return _regenerator.default.awrap((0,_functions.processPayment)(paymentIntentId));case 6:response=_context14.sent;setLoading(false);return _context14.abrupt("return",response);case 9:case"end":return _context14.stop();}}},null,null,null,Promise);},[setLoading,_isInitialized]);var _createSetupIntent=(0,_react.useCallback)(function _callee15(params){var response;return _regenerator.default.async(function _callee15$(_context15){while(1){switch(_context15.prev=_context15.next){case 0:if(_isInitialized()){_context15.next=3;break;}console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);case 3:setLoading(true);_context15.next=6;return _regenerator.default.awrap((0,_functions.createSetupIntent)(params));case 6:response=_context15.sent;setLoading(false);return _context15.abrupt("return",response);case 9:case"end":return _context15.stop();}}},null,null,null,Promise);},[_isInitialized,setLoading]);var _cancelPaymentIntent=(0,_react.useCallback)(function _callee16(paymentIntentId){var response;return _regenerator.default.async(function _callee16$(_context16){while(1){switch(_context16.prev=_context16.next){case 0:if(_isInitialized()){_context16.next=3;break;}console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);case 3:setLoading(true);_context16.next=6;return _regenerator.default.awrap((0,_functions.cancelPaymentIntent)(paymentIntentId));case 6:response=_context16.sent;setLoading(false);return _context16.abrupt("return",response);case 9:case"end":return _context16.stop();}}},null,null,null,Promise);},[setLoading,_isInitialized]);var _installAvailableUpdate=(0,_react.useCallback)(function _callee17(){var response;return _regenerator.default.async(function _callee17$(_context17){while(1){switch(_context17.prev=_context17.next){case 0:if(_isInitialized()){_context17.next=3;break;}console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);case 3:setLoading(true);_context17.next=6;return _regenerator.default.awrap((0,_functions.installAvailableUpdate)());case 6:response=_context17.sent;setLoading(false);return _context17.abrupt("return",response);case 9:case"end":return _context17.stop();}}},null,null,null,Promise);},[setLoading,_isInitialized]);var _cancelInstallingUpdate=(0,_react.useCallback)(function _callee18(){var response;return _regenerator.default.async(function _callee18$(_context18){while(1){switch(_context18.prev=_context18.next){case 0:if(_isInitialized()){_context18.next=3;break;}console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);case 3:setLoading(true);_context18.next=6;return _regenerator.default.awrap((0,_functions.cancelInstallingUpdate)());case 6:response=_context18.sent;setLoading(false);return _context18.abrupt("return",response);case 9:case"end":return _context18.stop();}}},null,null,null,Promise);},[setLoading,_isInitialized]);var _setReaderDisplay=(0,_react.useCallback)(function _callee19(cart){var response;return _regenerator.default.async(function _callee19$(_context19){while(1){switch(_context19.prev=_context19.next){case 0:if(_isInitialized()){_context19.next=3;break;}console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);case 3:setLoading(true);_context19.next=6;return _regenerator.default.awrap((0,_functions.setReaderDisplay)(cart));case 6:response=_context19.sent;setLoading(false);return _context19.abrupt("return",response);case 9:case"end":return _context19.stop();}}},null,null,null,Promise);},[setLoading,_isInitialized]);var _retrieveSetupIntent=(0,_react.useCallback)(function _callee20(clientSecret){var response;return _regenerator.default.async(function _callee20$(_context20){while(1){switch(_context20.prev=_context20.next){case 0:if(_isInitialized()){_context20.next=3;break;}console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);case 3:setLoading(true);_context20.next=6;return _regenerator.default.awrap((0,_functions.retrieveSetupIntent)(clientSecret));case 6:response=_context20.sent;setLoading(false);return _context20.abrupt("return",response);case 9:case"end":return _context20.stop();}}},null,null,null,Promise);},[setLoading,_isInitialized]);var _collectSetupIntentPaymentMethod=(0,_react.useCallback)(function _callee21(params){var response;return _regenerator.default.async(function _callee21$(_context21){while(1){switch(_context21.prev=_context21.next){case 0:if(_isInitialized()){_context21.next=3;break;}console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);case 3:setLoading(true);_context21.next=6;return _regenerator.default.awrap((0,_functions.collectSetupIntentPaymentMethod)(params));case 6:response=_context21.sent;setLoading(false);return _context21.abrupt("return",response);case 9:case"end":return _context21.stop();}}},null,null,null,Promise);},[setLoading,_isInitialized]);var _clearReaderDisplay=(0,_react.useCallback)(function _callee22(){var response;return _regenerator.default.async(function _callee22$(_context22){while(1){switch(_context22.prev=_context22.next){case 0:if(_isInitialized()){_context22.next=3;break;}console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);case 3:setLoading(true);_context22.next=6;return _regenerator.default.awrap((0,_functions.clearReaderDisplay)());case 6:response=_context22.sent;setLoading(false);return _context22.abrupt("return",response);case 9:case"end":return _context22.stop();}}},null,null,null,Promise);},[setLoading,_isInitialized]);var _cancelSetupIntent=(0,_react.useCallback)(function _callee23(setupIntentId){var response;return _regenerator.default.async(function _callee23$(_context23){while(1){switch(_context23.prev=_context23.next){case 0:if(_isInitialized()){_context23.next=3;break;}console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);case 3:setLoading(true);_context23.next=6;return _regenerator.default.awrap((0,_functions.cancelSetupIntent)(setupIntentId));case 6:response=_context23.sent;setLoading(false);return _context23.abrupt("return",response);case 9:case"end":return _context23.stop();}}},null,null,null,Promise);},[setLoading,_isInitialized]);var _confirmSetupIntent=(0,_react.useCallback)(function _callee24(setupIntentId){var response;return _regenerator.default.async(function _callee24$(_context24){while(1){switch(_context24.prev=_context24.next){case 0:if(_isInitialized()){_context24.next=3;break;}console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);case 3:setLoading(true);_context24.next=6;return _regenerator.default.awrap((0,_functions.confirmSetupIntent)(setupIntentId));case 6:response=_context24.sent;setLoading(false);return _context24.abrupt("return",response);case 9:case"end":return _context24.stop();}}},null,null,null,Promise);},[setLoading,_isInitialized]);var _setSimulatedCard=(0,_react.useCallback)(function _callee25(cardNumber){var response;return _regenerator.default.async(function _callee25$(_context25){while(1){switch(_context25.prev=_context25.next){case 0:if(_isInitialized()){_context25.next=3;break;}console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);case 3:setLoading(true);_context25.next=6;return _regenerator.default.awrap((0,_functions.setSimulatedCard)(cardNumber));case 6:response=_context25.sent;setLoading(false);return _context25.abrupt("return",response);case 9:case"end":return _context25.stop();}}},null,null,null,Promise);},[_isInitialized,setLoading]);var _simulateReaderUpdate=(0,_react.useCallback)(function _callee26(update){var response;return _regenerator.default.async(function _callee26$(_context26){while(1){switch(_context26.prev=_context26.next){case 0:if(_isInitialized()){_context26.next=3;break;}console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);case 3:setLoading(true);_context26.next=6;return _regenerator.default.awrap((0,_functions.simulateReaderUpdate)(update));case 6:response=_context26.sent;setLoading(false);return _context26.abrupt("return",response);case 9:case"end":return _context26.stop();}}},null,null,null,Promise);},[setLoading,_isInitialized]);var _collectRefundPaymentMethod=(0,_react.useCallback)(function _callee27(params){var response;return _regenerator.default.async(function _callee27$(_context27){while(1){switch(_context27.prev=_context27.next){case 0:if(_isInitialized()){_context27.next=3;break;}console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);case 3:setLoading(true);_context27.next=6;return _regenerator.default.awrap((0,_functions.collectRefundPaymentMethod)(params));case 6:response=_context27.sent;setLoading(false);return _context27.abrupt("return",response);case 9:case"end":return _context27.stop();}}},null,null,null,Promise);},[setLoading,_isInitialized]);var _processRefund=(0,_react.useCallback)(function _callee28(){var response;return _regenerator.default.async(function _callee28$(_context28){while(1){switch(_context28.prev=_context28.next){case 0:if(_isInitialized()){_context28.next=3;break;}console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);case 3:setLoading(true);_context28.next=6;return _regenerator.default.awrap((0,_functions.processRefund)());case 6:response=_context28.sent;setLoading(false);return _context28.abrupt("return",response);case 9:case"end":return _context28.stop();}}},null,null,null,Promise);},[setLoading,_isInitialized]);var _clearCachedCredentials=(0,_react.useCallback)(function _callee29(){var response;return _regenerator.default.async(function _callee29$(_context29){while(1){switch(_context29.prev=_context29.next){case 0:setLoading(true);_context29.next=3;return _regenerator.default.awrap((0,_functions.clearCachedCredentials)());case 3:response=_context29.sent;setLoading(false);return _context29.abrupt("return",response);case 6:case"end":return _context29.stop();}}},null,null,null,Promise);},[setLoading]);var _readReusableCard=(0,_react.useCallback)(function _callee30(params){var response;return _regenerator.default.async(function _callee30$(_context30){while(1){switch(_context30.prev=_context30.next){case 0:if(_isInitialized()){_context30.next=3;break;}console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);case 3:setLoading(true);_context30.next=6;return _regenerator.default.awrap((0,_functions.readReusableCard)(params));case 6:response=_context30.sent;setLoading(false);return _context30.abrupt("return",response);case 9:case"end":return _context30.stop();}}},null,null,null,Promise);},[setLoading,_isInitialized]);var _cancelCollectPaymentMethod=(0,_react.useCallback)(function _callee31(){var response;return _regenerator.default.async(function _callee31$(_context31){while(1){switch(_context31.prev=_context31.next){case 0:if(_isInitialized()){_context31.next=3;break;}console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);case 3:setLoading(true);_context31.next=6;return _regenerator.default.awrap((0,_functions.cancelCollectPaymentMethod)());case 6:response=_context31.sent;setLoading(false);return _context31.abrupt("return",response);case 9:case"end":return _context31.stop();}}},null,null,null,Promise);},[setLoading,_isInitialized]);var _cancelCollectRefundPaymentMethod=(0,_react.useCallback)(function _callee32(){var response;return _regenerator.default.async(function _callee32$(_context32){while(1){switch(_context32.prev=_context32.next){case 0:if(_isInitialized()){_context32.next=3;break;}console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);case 3:setLoading(true);_context32.next=6;return _regenerator.default.awrap((0,_functions.cancelCollectRefundPaymentMethod)());case 6:response=_context32.sent;setLoading(false);return _context32.abrupt("return",response);case 9:case"end":return _context32.stop();}}},null,null,null,Promise);},[_isInitialized,setLoading]);var _cancelCollectSetupIntent=(0,_react.useCallback)(function _callee33(){var response;return _regenerator.default.async(function _callee33$(_context33){while(1){switch(_context33.prev=_context33.next){case 0:if(_isInitialized()){_context33.next=3;break;}console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);case 3:setLoading(true);_context33.next=6;return _regenerator.default.awrap((0,_functions.cancelCollectSetupIntent)());case 6:response=_context33.sent;setLoading(false);return _context33.abrupt("return",response);case 9:case"end":return _context33.stop();}}},null,null,null,Promise);},[_isInitialized,setLoading]);var _cancelReadReusableCard=(0,_react.useCallback)(function _callee34(){var response;return _regenerator.default.async(function _callee34$(_context34){while(1){switch(_context34.prev=_context34.next){case 0:if(_isInitialized()){_context34.next=3;break;}console.error(NOT_INITIALIZED_ERROR_MESSAGE);throw Error(NOT_INITIALIZED_ERROR_MESSAGE);case 3:setLoading(true);_context34.next=6;return _regenerator.default.awrap((0,_functions.cancelReadReusableCard)());case 6:response=_context34.sent;setLoading(false);return _context34.abrupt("return",response);case 9:case"end":return _context34.stop();}}},null,null,null,Promise);},[_isInitialized,setLoading]);return{initialize:_initialize,discoverReaders:_discoverReaders,cancelDiscovering:_cancelDiscovering,connectBluetoothReader:_connectBluetoothReader,disconnectReader:_disconnectReader,connectInternetReader:_connectInternetReader,connectUsbReader:_connectUsbReader,createPaymentIntent:_createPaymentIntent,collectPaymentMethod:_collectPaymentMethod,retrievePaymentIntent:_retrievePaymentIntent,getLocations:_getLocations,processPayment:_processPayment,createSetupIntent:_createSetupIntent,cancelPaymentIntent:_cancelPaymentIntent,installAvailableUpdate:_installAvailableUpdate,cancelInstallingUpdate:_cancelInstallingUpdate,setReaderDisplay:_setReaderDisplay,clearReaderDisplay:_clearReaderDisplay,retrieveSetupIntent:_retrieveSetupIntent,collectSetupIntentPaymentMethod:_collectSetupIntentPaymentMethod,cancelSetupIntent:_cancelSetupIntent,confirmSetupIntent:_confirmSetupIntent,simulateReaderUpdate:_simulateReaderUpdate,collectRefundPaymentMethod:_collectRefundPaymentMethod,processRefund:_processRefund,clearCachedCredentials:_clearCachedCredentials,readReusableCard:_readReusableCard,cancelCollectPaymentMethod:_cancelCollectPaymentMethod,cancelCollectRefundPaymentMethod:_cancelCollectRefundPaymentMethod,cancelCollectSetupIntent:_cancelCollectSetupIntent,cancelReadReusableCard:_cancelReadReusableCard,connectHandoffReader:_connectHandoffReader,connectLocalMobileReader:_connectLocalMobileReader,setSimulatedCard:_setSimulatedCard,emitter:emitter,discoveredReaders:discoveredReaders,connectedReader:connectedReader,isInitialized:isInitialized,loading:loading};}
//# sourceMappingURL=useStripeTerminal.js.map